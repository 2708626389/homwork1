<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欢迎注册会员</title>
    <script type="text/javascript">
        function imgPreview(fileDom) {
            //判断是否支持FileReader
            if (window.FileReader) {
                var reader = new FileReader();
            } else {
                alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！");
            }

            //获取文件
            var file = fileDom.files[0];
            var imageType = /^image\//;
            //是否是图片
            if (!imageType.test(file.type)) {
                alert("请选择图片！");
                return;
            }
            //读取完成
            reader.onload = function (e) {
                //获取图片dom
                var img = document.getElementById("preview");
                //图片路径设置为读取的图片
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    </script>
</head>

<body>
    <div style="color: blue;">
        <p>欢迎注册会员</p>
    </div>
    <div>
        <form action="URL" method="post">
            <div>
                <label>手机号码：<input type="text" name="phonenumber" placeholder="11位手机号"></label>
                <span style="color: red;">必填</span>
            </div>
            <div>
                <label>创建密码：<input type="password" name="password" maxlength="8" placeholder="8位密码"></label>
                <span style="color: red;">必填</span>
            </div>
            <div>
                <label>创建邮箱：<input type="text" name="postbox" placeholder="例如：wustzz@sina.com"></label>
                <span style="color: red;">必填</span>
            </div>
            <div>
                验证码：
                <span>
                    <input type="text" value="" placeholder="" id="text">
                    <canvas id="canvas" width="100" height="30" style="border: 1px solid #ccc;
                            border-radius: 5px;"></canvas>
                    <img src="./images/arrow_03.png" alt="" style="width: 25px;" onclick="dj()"></a>
                    <script>
                        var show_num = [];
                        draw(show_num);
                        function dj() {
                            draw(show_num);
                        }
                        function sublim() {
                            var val = document.getElementById("text").value;
                            var num = show_num.join("");
                            if (val == '') {
                                alert('请输入验证码！');
                            } else if (val == num) {
                                alert('提交成功！');
                                document.getElementById(".input-val").val('');
                                draw(show_num);

                            } else {
                                alert('验证码错误！\n你输入的是:  ' + val + "\n正确的是:  " + num + '\n请重新输入！');
                                document.getElementById("text").value = '';
                                draw(show_num);
                            }



                        }
                        function draw(show_num) {
                            var canvas_width = document.getElementById('canvas').clientWidth;
                            var canvas_height = document.getElementById('canvas').clientHeight;
                            var canvas = document.getElementById("canvas");//获取到canvas的对象，演员
                            var context = canvas.getContext("2d");//获取到canvas画图的环境，演员表演的舞台
                            canvas.width = canvas_width;
                            canvas.height = canvas_height;
                            var sCode = "A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0,q,w,e,r,t,y,u,i,o,p,a,s,d,f,g,h,j,k,l,z,x,c,v,b,n,m";
                            var aCode = sCode.split(",");
                            var aLength = aCode.length;//获取到数组的长度

                            for (var i = 0; i <= 3; i++) {
                                var j = Math.floor(Math.random() * aLength);//获取到随机的索引值
                                var deg = Math.random() * 30 * Math.PI / 180;//产生0~30之间的随机弧度
                                var txt = aCode[j];//得到随机的一个内容
                                show_num[i] = txt;
                                var x = 10 + i * 20;//文字在canvas上的x坐标
                                var y = 20 + Math.random() * 8;//文字在canvas上的y坐标
                                context.font = "bold 23px 微软雅黑";

                                context.translate(x, y);
                                context.rotate(deg);

                                context.fillStyle = randomColor();
                                context.fillText(txt, 0, 0);

                                context.rotate(-deg);
                                context.translate(-x, -y);
                            }
                            for (var i = 0; i <= 5; i++) { //验证码上显示线条
                                context.strokeStyle = randomColor();
                                context.beginPath();
                                context.moveTo(Math.random() * canvas_width, Math.random() * canvas_height);
                                context.lineTo(Math.random() * canvas_width, Math.random() * canvas_height);
                                context.stroke();
                            }
                            for (var i = 0; i <= 30; i++) { //验证码上显示小点
                                context.strokeStyle = randomColor();
                                context.beginPath();
                                var x = Math.random() * canvas_width;
                                var y = Math.random() * canvas_height;
                                context.moveTo(x, y);
                                context.lineTo(x + 1, y + 1);
                                context.stroke();
                            }
                        }
                        function randomColor() {//得到随机的颜色值
                            var r = Math.floor(Math.random() * 256);
                            var g = Math.floor(Math.random() * 256);
                            var b = Math.floor(Math.random() * 256);
                            return "rgb(" + r + "," + g + "," + b + ")";
                        }
                    </script>
                </span>
            </div>
            <div>
                性别
                <input type="radio" name="sex" value="male" checked="checked">男
                <input type="radio" name="sex" value="female">女
            </div>
            <div>
                生日：
                <input type=" text" name="birthday" value="年/月/日">
            </div>
            <div>
                年龄：
                <input type="text" name="age">
            </div>
            <div>
                <form>
                    籍贯：
                    <select id="city" style="width: 105px;">
                        <option>省</option>
                    </select>
                    <select id="area" style="width: 105px;">
                        <option>市</option>
                    </select>
                </form>
</body>
<script>
    var arr_city = ["湖北", "湖南", "河南"];
    var arr_area = [
        ["武汉", "宜昌", "咸宁", "襄阳", "仙桃", "天门"],
        ["长沙", "株洲", "湘潭", "衡阳", "邵阳", "岳阳"],
        ["郑州", "开封", "洛阳", "安阳", "新乡", "焦作"]
    ];

    var city = document.getElementById("city");
    var area = document.getElementById("area");

    // 填入市选项的内容
    for (var i = 0; i < arr_city.length; i++) {
        city.options.add(new Option(arr_city[i]));
    }

    city.onchange = function getArea() {
        // 每次选择市先清空区
        area.options.length = 1;
        // 获取所选市的索引
        var cityIndex = this.selectedIndex - 1;
        // 如果所选市的索引不是0（默认选项），则填入对应区的内容
        if (cityIndex > -1) {
            for (var i = 0; i < arr_area[cityIndex].length; i++) {
                area.options.add(new Option(arr_area[cityIndex][i]));
            }
        }
    }
</script>
</div>
<div>
    个人学历：
    <select name="record" style="width: 175px;">
        <option value="0" selected="selected">本科</option>
        <option value="1">高中</option>
        <option value="2">硕士</option>
        <option value="3">博士</option>
    </select>
</div>
<div>
    月薪：
    <span id="msg">
        <input id="range" type="range" min="0" max="10000" value="5000" step="10" oninput="change()"
            onchange="change()">
        <span id="value">5000</span>
        <script type='text/javascript'>
            function change() {
                var value = document.getElementById('range').value;
                document.getElementById('value').innerHTML = value;
            }
        </script>
    </span>
</div>
<div>
    个人爱好:
    <label><input type="checkbox" name="like" value="sing">唱歌</label>
    <label><input type="checkbox" name="like" value="run">跑步</label>
    <label><input type="checkbox" name="like" value="swim">游泳</label>
</div>
<div>
    个人照片：
    <img id="preview" />
    <br />
    <input type="file" name="file" onchange="imgPreview(this)" title="未选择任何文件" />
</div>
<div>
    <span>个人简介：</span>
    <textarea name="intro" cols="30" rows="10"></textarea>
</div>
<input type="submit" value="提交">
<input type="reset" value="重填">
</form>
</div>
</body>

</html>